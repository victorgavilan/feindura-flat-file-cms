// feindura - Flat File Content Management System
// Copyright (C) Fabian Vogelsteller [frozeman.de]
//
// Published under the GNU General Public License

.block {
    z-index: 1;
    position: relative;
    display: block;
    width: @gridRowWidth + (2 * @blockContentPadding);
    margin: @blockContentMargin 0;
    padding: 0;
    overflow: visible;
    background-color: #fff;
    color: @textColor;
    #shadow > .drop(0,0,10px,0.2);
    #border > .radius(@borderRadius,@borderRadiusSmall,@borderRadiusSmall,@borderRadius);

    &.hidden {
        display: block; // overwrites the class .hidden in general.less
    }

    // content wrapper div
    > div {
        z-index: 1;
    }

    .content {
        z-index: 1;
        position: relative;
        width: @gridRowWidth;
        margin: 0;
        // margin-top: 5px;
        padding: @blockContentPadding; // content size is 800 - 40 = 760px
        overflow: hidden;
    }


    > h1 {
        z-index: 2;
        min-height: 30px;
        padding: 20px 25px;
        margin-bottom: 0;
        width: @gridRowWidth - 12px;
        font-size: 20px;
        line-height: 30px;
        #boxHeadlineBasics;

        > span {
            max-width: 695px;
        }

        &.brown {
            #gradient > .none();
            background-image: url("../../images/bg/block_h1_brown.png") !important;
            background-repeat: repeat-x !important;
            background-color: #fff;
            line-height: 26px;
        }
        &.blue {
            #gradient > .none();
            background-image: url("../../images/bg/block_h1_blue.png") !important;
            background-repeat: repeat-x !important;
            background-color: #fff;
            line-height: 26px;
        }

        img {
            position: relative;
            top: 0;
            left: 2px;
        }
        img.blockH1Icon {
            top: -3px;
            left: -4px;
            vertical-align: top;
        }

        // HEADLINE LINKS
        a {
            z-index: 1;
            position: relative;
            display: block;
            width: 97.5%;
            min-height: 30px;
            height: 30px;
            padding: 20px 25px;
            margin: -20px -25px;
            line-height: 30px;
            background-image: url("../../images/buttons/content_h1_up_off.png");
            background-repeat: no-repeat;
            background-position: right 18px;
            color: #536068;
        }
        a:hover,
        a:focus {
            color: #536068;
            background-image: url("../../images/buttons/content_h1_up_on.png");
        }
    }
    &.hidden > h1 a {
        background-image: url("../../images/buttons/content_h1_down_off.png");
    }
    &.hidden > h1 a:hover,
    &.hidden > h1 a:focus {
        background-image: url("../../images/buttons/content_h1_down_on.png");
    }

    // special block headline
    h2 {
        padding: 10px 20px;
        padding-top: 14px;
        margin: 5px 0;
        margin-top: 0;
        border-bottom: 1px solid #fff;
        line-height: 23px;
        font-weight: normal;
        font-size: 17px;
        color: darken(@colorGray,5%);
        #gradient > .vertical(#fff,@colorLightGray,#fff);
        #shadow > .drop(0,2px,2px,0.2);
        #shadow > .text(0 1px 1px #ffffff) !important;
        #border > .radius(@borderRadius,0,0,@borderRadius);

        a {
            background-image: none;
            padding-left: 0;
        }

        img.blockH2Icon {
            // display: none;
            top: -3px;
            left: -4px;margin: -5px 0;
            vertical-align: top;
        }
    }
    h3 {
        margin-bottom: 10px;
        color: #888888;
        font-weight: normal;
        font-size: 15px;

        span {
            color: #BAB8B6;
        }
    }
    h4 {
        margin: 10px 0 5px -10px;
        padding: 5px 10px;
        font-size: 14px;
        color: #536068;
    }

    // special block headline
    .content > h2,
    .span8 > h2 {
        margin: 10px -@blockContentPadding - 1px;
        #border > .rounded(0);
    }


    // VERTICAL SEPERATOR
    .verticalSeparator {
      // background: url('../../images/bg/content_block_verticalSeparator.png') no-repeat bottom center;
      height: 5px;
      margin: @gridGutterWidth -@blockContentPadding;
      #shadow > .drop(0,2px,2px,0.15);
      clear: both;
    }
    h2 + .verticalSeparator {
        margin-top: 0px !important;
    }


    // OPEN BLOCK
    // removes the bottom border of the headline.
    &.open {
        // z-index: 0;
        // border-bottom: transparent;
        // #shadow > .none();
        #border > .radius(@borderRadius,@borderRadiusSmall,@borderRadiusSmall,@borderRadius);

        .content {
            margin-top: -10px;
            padding-top: 0;
            padding-bottom: 10px;
            background-color: #fff;
            #border > .radius(@borderRadius,@borderRadiusSmall,@borderRadiusSmall,@borderRadius);
        }

        > h1,
        > h1:hover,
        > h1.hidden {
            padding-bottom: 25px;
            #shadow > .drop(0,0,5px,0.2);
            #border > .radius(@borderRadius,0,0,@borderRadius);
        }
    }

    // PLAIN BLOCK
    &.plain {
        padding-top: 20px;
        padding-bottom: 20px;

        .content {
            padding: 0 @blockContentPadding;
            overflow: visible;
        }
    }


    // ALERT BOXES (general)

    &.alert {
        border: none;

        h1 {
            #shadow > .text(0 1px 1px #c1c1c1);
            #shadow > .none();
        }
        h2 {
            #gradient > .none();
            #shadow > .none();
            padding: 3px 5px;
            color: inherit;
        }
        p {
            display: block;
            margin-left: 100px;
        }
        .content {
            position: relative;
            margin-top: 1px;
            min-height: 80px;
            max-height: 400px;
            overflow: auto;
            background-position: 20px 50%;
            background-repeat: no-repeat;
            #shadow > .text(0 1px 1px #fff);
        }
    }

    // ALERT WARNING
    &.warning {
        #gradient > .vertical(#FFECDD,#FFECDD,#fff,0,0.6);

        .content {
            background-image: url("../../images/icons/warning.png");
        }
        h1 {
            color: #CA5C00;
            #gradient > .vertical(#fff,#fff,#FFECDD,0,1);
        }
        h2 {
            margin-left: 65px;
        }
    }

    // ALERT INFO
    &.info {
        #gradient > .vertical(#FEEC92,#FEEC92,#fff,0,0.6);

        .content {
            background-image: url("../../images/icons/info.png");
        }
        h1 {
            color: @colorBrown;
            #gradient > .vertical(#fff,#fff,#feefb1,0,1);
        }
        h2 {
            width: 85%;
            margin-top: 20px;
            margin-left: 95px;
            border-bottom: 1px dotted #DFB300;
        }
        p {
            color: @colorBrown;
        }
    }

    // ALERT MISSING LANGUAGES
    &.info.missingLanguages {
        .content {
            background-image: url("../../images/icons/missingLanguages_big.png");
        }
        a {
            background-image: none;
            padding-left: 0;
        }
    }

    // INNER BLOCKS
    .insetBlock { // original is in general.less
        margin: 10px -10px;
    }


    // FORM SPANS
    .form {
        .row {
            padding: 5px 0;
        }

        [class^="span"] > [class^="fancyform"] {
            margin-top: 4px;
        }

        // class="span3 formLeft" - "formLeft" is used so i could change the span3 more easily over multiple files, just replace "span3 formLeft" with e.g. "span2 formLeft"
        .formLeft {
            text-align: right;
        }
        .subOption {
            background: url('../../images/icons/arrow-down-right.png') no-repeat left 2px;
            padding-left: 30px;

            [class^="fancyform"] {
                position: relative;
                top: 4px;
                margin-right: 2px;
            }
        }
        input {
            margin-bottom: 1px;
        }
        input[type="checkbox"] {
            width: auto;
        }
        label {
            display: inline-block;
            width: auto;
        }
        input.submit,
        a.submit {
            margin-top: 20px;
        }
        .span5 .alert {
            width: 60%;
        }
    }


    // EDIT FILES
    .editFiles {
        textarea {
            width: 100%;
            height: 600px;
        }
    }

}